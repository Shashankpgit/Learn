# Actor

Endpoints for user registration, authentication, and actor management.

## Register a new actor

> Creates a new user actor, generates and stores the reproducible DID from the master public key, and links them.

```json
{"openapi":"3.0.3","info":{"title":"Finternet API","version":"5.0.0"},"tags":[{"name":"Actor","description":"Endpoints for user registration, authentication, and actor management."}],"servers":[{"url":"https://sandbox.finternetlab.io","description":"Finternet Sandbox"}],"paths":{"/v1/actor/create":{"post":{"tags":["Actor"],"summary":"Register a new actor","description":"Creates a new user actor, generates and stores the reproducible DID from the master public key, and links them.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequest_RegistrationRequest"}}}},"responses":{"201":{"description":"Actor registered successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_RegistrationSuccess"}}}},"400":{"description":"Bad request, such as a missing required field.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}},"409":{"description":"Conflict, an identifier is already in use.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}}}},"components":{"schemas":{"ApiRequest_RegistrationRequest":{"allOf":[{"$ref":"#/components/schemas/ApiRequest"},{"properties":{"request":{"$ref":"#/components/schemas/RegistrationRequest"}}}]},"ApiRequest":{"type":"object","required":["id","ver","ts","params","request"],"properties":{"id":{"type":"string","description":"A unique identifier for the API action, e.g., 'api.actor.create'."},"ver":{"type":"string","description":"The version of the API."},"ts":{"type":"string","format":"date-time","description":"The timestamp of the request in UTC."},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid","description":"A unique message ID for tracing the request."}}},"request":{"type":"object","description":"The core request payload."}}},"RegistrationRequest":{"type":"object","required":["universalIdentifier","email","password","firstName","lastName","masterPublicKey","entityType"],"properties":{"universalIdentifier":{"type":"string"},"email":{"type":"string","format":"email"},"password":{"type":"string","format":"password"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phoneNumber":{"type":"string","description":"Phone number in E.164 format."},"masterPublicKey":{"type":"string","description":"The raw public key for the user's actor."},"entityType":{"type":"string","enum":["Individual","Business"]}},"oneOf":[{"$ref":"#/components/schemas/RegistrationIndividual"},{"$ref":"#/components/schemas/RegistrationBusiness"}]},"RegistrationIndividual":{"type":"object","required":["nationality","countryOfResidence"],"properties":{"entityType":{"type":"string","enum":["Individual"]},"nationality":{"type":"string","description":"User's nationality as a two-letter ISO country code."},"countryOfResidence":{"type":"string","description":"User's country of residence as a two-letter ISO country code."}}},"RegistrationBusiness":{"type":"object","required":["countryOfIncorporation"],"properties":{"entityType":{"type":"string","enum":["Business"]},"countryOfIncorporation":{"type":"string","description":"The business's country of incorporation as a two-letter ISO country code."}}},"ApiResponse_RegistrationSuccess":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"$ref":"#/components/schemas/RegistrationSuccessResponse"}}}]},"ApiResponse":{"type":"object","properties":{"id":{"type":"string"},"ver":{"type":"string"},"ts":{"type":"string","format":"date-time"},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["successful","failed"]},"err":{"type":"string","nullable":true},"errmsg":{"type":"string","nullable":true}}},"response":{"type":"object"}}},"RegistrationSuccessResponse":{"type":"object","properties":{"did":{"type":"string","description":"The verifiable Decentralized Identifier for the actor, generated by the server."},"message":{"type":"string"}}},"ApiResponse_Error":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object"}}}]}}}}
```

## Update actor profile

> Allows an authenticated user to update their profile information, such as name and phone number. The actor to update is determined by the session token.

```json
{"openapi":"3.0.3","info":{"title":"Finternet API","version":"5.0.0"},"tags":[{"name":"Actor","description":"Endpoints for user registration, authentication, and actor management."}],"servers":[{"url":"https://sandbox.finternetlab.io","description":"Finternet Sandbox"}],"security":[{"bearerAuth":[]}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"ApiRequest_UpdateActorRequest":{"allOf":[{"$ref":"#/components/schemas/ApiRequest"},{"properties":{"request":{"$ref":"#/components/schemas/UpdateActorRequest"}}}]},"ApiRequest":{"type":"object","required":["id","ver","ts","params","request"],"properties":{"id":{"type":"string","description":"A unique identifier for the API action, e.g., 'api.actor.create'."},"ver":{"type":"string","description":"The version of the API."},"ts":{"type":"string","format":"date-time","description":"The timestamp of the request in UTC."},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid","description":"A unique message ID for tracing the request."}}},"request":{"type":"object","description":"The core request payload."}}},"UpdateActorRequest":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"phoneNumber":{"type":"string","description":"Phone number in E.164 format. Null to remove.","nullable":true}}},"ApiResponse_ActorProfile":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"$ref":"#/components/schemas/ActorProfile"}}}]},"ApiResponse":{"type":"object","properties":{"id":{"type":"string"},"ver":{"type":"string"},"ts":{"type":"string","format":"date-time"},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["successful","failed"]},"err":{"type":"string","nullable":true},"errmsg":{"type":"string","nullable":true}}},"response":{"type":"object"}}},"ActorProfile":{"type":"object","required":["did","universalIdentifier","email","firstName","lastName","masterPublicKey","verificationLevel","entityType"],"properties":{"did":{"type":"string","description":"The verifiable Decentralized Identifier for the actor."},"universalIdentifier":{"type":"string"},"email":{"type":"string","format":"email"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phoneNumber":{"type":"string","nullable":true},"masterPublicKey":{"type":"string"},"verificationLevel":{"type":"string","enum":["Tier0_Unverified","Tier1_Verified","Tier2_InstitutionVerified"]},"entityType":{"type":"string","enum":["Individual","Business"]}},"oneOf":[{"$ref":"#/components/schemas/ProfileIndividual"},{"$ref":"#/components/schemas/ProfileBusiness"}]},"ProfileIndividual":{"type":"object","required":["nationality","countryOfResidence"],"properties":{"entityType":{"type":"string","enum":["Individual"]},"nationality":{"type":"string"},"countryOfResidence":{"type":"string"}}},"ProfileBusiness":{"type":"object","required":["countryOfIncorporation"],"properties":{"entityType":{"type":"string","enum":["Business"]},"countryOfIncorporation":{"type":"string"}}},"ApiResponse_Error":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object"}}}]}},"responses":{"BadRequestError":{"description":"Invalid request (e.g., malformed body, invalid parameters).","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}},"UnauthorizedError":{"description":"Unauthorized. The JWT is missing, invalid, or expired.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}},"paths":{"/v1/actor/update":{"post":{"tags":["Actor"],"summary":"Update actor profile","description":"Allows an authenticated user to update their profile information, such as name and phone number. The actor to update is determined by the session token.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequest_UpdateActorRequest"}}}},"responses":{"200":{"description":"Actor profile updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ActorProfile"}}}},"400":{"$ref":"#/components/responses/BadRequestError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"409":{"description":"Conflict, the new phone number is already in use.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}}}}}
```

## User login

> Authenticates a user with their credentials and returns a JWT.

```json
{"openapi":"3.0.3","info":{"title":"Finternet API","version":"5.0.0"},"tags":[{"name":"Actor","description":"Endpoints for user registration, authentication, and actor management."}],"servers":[{"url":"https://sandbox.finternetlab.io","description":"Finternet Sandbox"}],"paths":{"/v1/actor/login":{"post":{"tags":["Actor"],"summary":"User login","description":"Authenticates a user with their credentials and returns a JWT.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequest_LoginRequest"}}}},"responses":{"200":{"description":"Login successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_AuthResponse"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"}}}}},"components":{"schemas":{"ApiRequest_LoginRequest":{"allOf":[{"$ref":"#/components/schemas/ApiRequest"},{"properties":{"request":{"$ref":"#/components/schemas/LoginRequest"}}}]},"ApiRequest":{"type":"object","required":["id","ver","ts","params","request"],"properties":{"id":{"type":"string","description":"A unique identifier for the API action, e.g., 'api.actor.create'."},"ver":{"type":"string","description":"The version of the API."},"ts":{"type":"string","format":"date-time","description":"The timestamp of the request in UTC."},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid","description":"A unique message ID for tracing the request."}}},"request":{"type":"object","description":"The core request payload."}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string","description":"Can be either universalIdentifier or email."},"password":{"type":"string","format":"password"}}},"ApiResponse_AuthResponse":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"$ref":"#/components/schemas/AuthResponse"}}}]},"ApiResponse":{"type":"object","properties":{"id":{"type":"string"},"ver":{"type":"string"},"ts":{"type":"string","format":"date-time"},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["successful","failed"]},"err":{"type":"string","nullable":true},"errmsg":{"type":"string","nullable":true}}},"response":{"type":"object"}}},"AuthResponse":{"type":"object","properties":{"accessToken":{"type":"string","description":"The JWT for the user session."},"tokenType":{"type":"string"},"expiresIn":{"type":"integer"}}},"ApiResponse_Error":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object"}}}]}},"responses":{"UnauthorizedError":{"description":"Unauthorized. The JWT is missing, invalid, or expired.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}}}
```

## User signout

> Invalidates the user's current session token.

```json
{"openapi":"3.0.3","info":{"title":"Finternet API","version":"5.0.0"},"tags":[{"name":"Actor","description":"Endpoints for user registration, authentication, and actor management."}],"servers":[{"url":"https://sandbox.finternetlab.io","description":"Finternet Sandbox"}],"security":[{"bearerAuth":[]}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"ApiRequest_Empty":{"allOf":[{"$ref":"#/components/schemas/ApiRequest"},{"properties":{"request":{"type":"object"}}}]},"ApiRequest":{"type":"object","required":["id","ver","ts","params","request"],"properties":{"id":{"type":"string","description":"A unique identifier for the API action, e.g., 'api.actor.create'."},"ver":{"type":"string","description":"The version of the API."},"ts":{"type":"string","format":"date-time","description":"The timestamp of the request in UTC."},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid","description":"A unique message ID for tracing the request."}}},"request":{"type":"object","description":"The core request payload."}}},"ApiResponse_Success":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object","properties":{"message":{"type":"string"}}}}}]},"ApiResponse":{"type":"object","properties":{"id":{"type":"string"},"ver":{"type":"string"},"ts":{"type":"string","format":"date-time"},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["successful","failed"]},"err":{"type":"string","nullable":true},"errmsg":{"type":"string","nullable":true}}},"response":{"type":"object"}}},"ApiResponse_Error":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object"}}}]}},"responses":{"UnauthorizedError":{"description":"Unauthorized. The JWT is missing, invalid, or expired.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}},"paths":{"/v1/actor/signout":{"post":{"tags":["Actor"],"summary":"User signout","description":"Invalidates the user's current session token.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequest_Empty"}}}},"responses":{"200":{"description":"Signout successful.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Success"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"}}}}}}
```

## Forgot password

> Initiates the password reset flow for a given email address. A reset link will be sent to the user's email.

```json
{"openapi":"3.0.3","info":{"title":"Finternet API","version":"5.0.0"},"tags":[{"name":"Actor","description":"Endpoints for user registration, authentication, and actor management."}],"servers":[{"url":"https://sandbox.finternetlab.io","description":"Finternet Sandbox"}],"paths":{"/v1/actor/forgotPassword":{"post":{"tags":["Actor"],"summary":"Forgot password","description":"Initiates the password reset flow for a given email address. A reset link will be sent to the user's email.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequest_ForgotPasswordRequest"}}}},"responses":{"200":{"description":"Password reset instructions have been sent if the email exists.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Success"}}}},"404":{"$ref":"#/components/responses/NotFoundError"}}}}},"components":{"schemas":{"ApiRequest_ForgotPasswordRequest":{"allOf":[{"$ref":"#/components/schemas/ApiRequest"},{"properties":{"request":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}}]},"ApiRequest":{"type":"object","required":["id","ver","ts","params","request"],"properties":{"id":{"type":"string","description":"A unique identifier for the API action, e.g., 'api.actor.create'."},"ver":{"type":"string","description":"The version of the API."},"ts":{"type":"string","format":"date-time","description":"The timestamp of the request in UTC."},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid","description":"A unique message ID for tracing the request."}}},"request":{"type":"object","description":"The core request payload."}}},"ForgotPasswordRequest":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email","description":"The email associated with the actor to reset."}}},"ApiResponse_Success":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object","properties":{"message":{"type":"string"}}}}}]},"ApiResponse":{"type":"object","properties":{"id":{"type":"string"},"ver":{"type":"string"},"ts":{"type":"string","format":"date-time"},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["successful","failed"]},"err":{"type":"string","nullable":true},"errmsg":{"type":"string","nullable":true}}},"response":{"type":"object"}}},"ApiResponse_Error":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object"}}}]}},"responses":{"NotFoundError":{"description":"The requested resource was not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}}}
```

## Get current user's profile

> Retrieves the full actor profile for the authenticated user.

```json
{"openapi":"3.0.3","info":{"title":"Finternet API","version":"5.0.0"},"tags":[{"name":"Actor","description":"Endpoints for user registration, authentication, and actor management."}],"servers":[{"url":"https://sandbox.finternetlab.io","description":"Finternet Sandbox"}],"security":[{"bearerAuth":[]}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"ApiRequest_Empty":{"allOf":[{"$ref":"#/components/schemas/ApiRequest"},{"properties":{"request":{"type":"object"}}}]},"ApiRequest":{"type":"object","required":["id","ver","ts","params","request"],"properties":{"id":{"type":"string","description":"A unique identifier for the API action, e.g., 'api.actor.create'."},"ver":{"type":"string","description":"The version of the API."},"ts":{"type":"string","format":"date-time","description":"The timestamp of the request in UTC."},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid","description":"A unique message ID for tracing the request."}}},"request":{"type":"object","description":"The core request payload."}}},"ApiResponse_ActorProfile":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"$ref":"#/components/schemas/ActorProfile"}}}]},"ApiResponse":{"type":"object","properties":{"id":{"type":"string"},"ver":{"type":"string"},"ts":{"type":"string","format":"date-time"},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["successful","failed"]},"err":{"type":"string","nullable":true},"errmsg":{"type":"string","nullable":true}}},"response":{"type":"object"}}},"ActorProfile":{"type":"object","required":["did","universalIdentifier","email","firstName","lastName","masterPublicKey","verificationLevel","entityType"],"properties":{"did":{"type":"string","description":"The verifiable Decentralized Identifier for the actor."},"universalIdentifier":{"type":"string"},"email":{"type":"string","format":"email"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phoneNumber":{"type":"string","nullable":true},"masterPublicKey":{"type":"string"},"verificationLevel":{"type":"string","enum":["Tier0_Unverified","Tier1_Verified","Tier2_InstitutionVerified"]},"entityType":{"type":"string","enum":["Individual","Business"]}},"oneOf":[{"$ref":"#/components/schemas/ProfileIndividual"},{"$ref":"#/components/schemas/ProfileBusiness"}]},"ProfileIndividual":{"type":"object","required":["nationality","countryOfResidence"],"properties":{"entityType":{"type":"string","enum":["Individual"]},"nationality":{"type":"string"},"countryOfResidence":{"type":"string"}}},"ProfileBusiness":{"type":"object","required":["countryOfIncorporation"],"properties":{"entityType":{"type":"string","enum":["Business"]},"countryOfIncorporation":{"type":"string"}}},"ApiResponse_Error":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object"}}}]}},"responses":{"UnauthorizedError":{"description":"Unauthorized. The JWT is missing, invalid, or expired.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}},"paths":{"/v1/actor/getProfile":{"post":{"tags":["Actor"],"summary":"Get current user's profile","description":"Retrieves the full actor profile for the authenticated user.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequest_Empty"}}}},"responses":{"200":{"description":"User profile retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ActorProfile"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"}}}}}}
```

## Resolve a universal identifier

> Publicly resolves a universal identifier to its master public key and DID.

```json
{"openapi":"3.0.3","info":{"title":"Finternet API","version":"5.0.0"},"tags":[{"name":"Actor","description":"Endpoints for user registration, authentication, and actor management."}],"servers":[{"url":"https://sandbox.finternetlab.io","description":"Finternet Sandbox"}],"paths":{"/v1/actor/resolve":{"post":{"tags":["Actor"],"summary":"Resolve a universal identifier","description":"Publicly resolves a universal identifier to its master public key and DID.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequest_ResolveRequest"}}}},"responses":{"200":{"description":"Public key and DID retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_ResolveResponse"}}}},"404":{"$ref":"#/components/responses/NotFoundError"}}}}},"components":{"schemas":{"ApiRequest_ResolveRequest":{"allOf":[{"$ref":"#/components/schemas/ApiRequest"},{"properties":{"request":{"$ref":"#/components/schemas/ResolveRequest"}}}]},"ApiRequest":{"type":"object","required":["id","ver","ts","params","request"],"properties":{"id":{"type":"string","description":"A unique identifier for the API action, e.g., 'api.actor.create'."},"ver":{"type":"string","description":"The version of the API."},"ts":{"type":"string","format":"date-time","description":"The timestamp of the request in UTC."},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid","description":"A unique message ID for tracing the request."}}},"request":{"type":"object","description":"The core request payload."}}},"ResolveRequest":{"type":"object","properties":{"universalIdentifier":{"type":"string"}}},"ApiResponse_ResolveResponse":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"$ref":"#/components/schemas/ResolveResponse"}}}]},"ApiResponse":{"type":"object","properties":{"id":{"type":"string"},"ver":{"type":"string"},"ts":{"type":"string","format":"date-time"},"params":{"type":"object","properties":{"msgid":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["successful","failed"]},"err":{"type":"string","nullable":true},"errmsg":{"type":"string","nullable":true}}},"response":{"type":"object"}}},"ResolveResponse":{"type":"object","properties":{"universalIdentifier":{"type":"string"},"masterPublicKey":{"type":"string"},"did":{"type":"string","description":"The verifiable Decentralized Identifier for the actor."}}},"ApiResponse_Error":{"allOf":[{"$ref":"#/components/schemas/ApiResponse"},{"properties":{"response":{"type":"object"}}}]}},"responses":{"NotFoundError":{"description":"The requested resource was not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponse_Error"}}}}}}}
```